{"ast":null,"code":"var _jsxFileName = \"/home/voaybe/Documents/projet/real-time-chat-app/client/src/components/Chat/UserList.js\";\nimport './Chat.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst formatTime = dateStr => {\n  if (!dateStr) return '';\n  const date = new Date(dateStr);\n  const now = new Date();\n  const diff = now - date;\n  if (diff < 60000) return 'maintenant';\n  if (diff < 3600000) return Math.floor(diff / 60000) + 'm';\n  if (diff < 86400000) return Math.floor(diff / 3600000) + 'h';\n  return date.toLocaleDateString('fr-FR', {\n    day: '2-digit',\n    month: '2-digit'\n  });\n};\nconst getLastMessagePreview = msg => {\n  if (!msg) return '';\n  if (msg.type === 'voice') return 'ðŸŽ¤ Message vocal';\n  if (msg.type === 'image') return 'ðŸ–¼ï¸ Image';\n  if (msg.type === 'file') return 'ðŸ“Ž ' + (msg.fileName || 'Fichier');\n  return msg.content || '';\n};\nconst UserList = ({\n  users = [],\n  onlineUsers = [],\n  selectedUser,\n  onSelectUser,\n  unreadCounts = {},\n  lastMessages = {}\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"user-list\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"user-list-title\",\n      children: \"Messages\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this), users.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"no-users\",\n      children: \"Aucun utilisateur\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 30\n    }, this), users.map(u => {\n      const isOnline = onlineUsers.includes(u._id);\n      const isSelected = selectedUser && selectedUser._id === u._id;\n      const unread = unreadCounts[u._id] || 0;\n      const lastMsg = lastMessages[u._id];\n      const hasUnread = unread > 0;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'user-item' + (isSelected ? ' selected' : '') + (hasUnread ? ' has-unread' : ''),\n        onClick: () => onSelectUser(u),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-avatar gradient-bg\",\n          children: [u.username[0].toUpperCase(), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: 'status-dot ' + (isOnline ? 'online' : 'offline')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-details\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"user-row-top\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: 'user-name' + (hasUnread ? ' user-name-bold' : ''),\n              children: u.username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 17\n            }, this), lastMsg && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: 'last-msg-time' + (hasUnread ? ' time-unread' : ''),\n              children: formatTime(lastMsg.createdAt)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"user-row-bottom\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: 'last-message-preview' + (hasUnread ? ' preview-unread' : ''),\n              children: getLastMessagePreview(lastMsg) || (isOnline ? 'En ligne' : 'Hors ligne')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 17\n            }, this), hasUnread && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"unread-badge\",\n              children: unread > 99 ? '99+' : unread\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this)]\n      }, u._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n};\n_c = UserList;\nexport default UserList;\nvar _c;\n$RefreshReg$(_c, \"UserList\");","map":{"version":3,"names":["jsxDEV","_jsxDEV","formatTime","dateStr","date","Date","now","diff","Math","floor","toLocaleDateString","day","month","getLastMessagePreview","msg","type","fileName","content","UserList","users","onlineUsers","selectedUser","onSelectUser","unreadCounts","lastMessages","className","children","_jsxFileName","lineNumber","columnNumber","length","map","u","isOnline","includes","_id","isSelected","unread","lastMsg","hasUnread","onClick","username","toUpperCase","createdAt","_c","$RefreshReg$"],"sources":["/home/voaybe/Documents/projet/real-time-chat-app/client/src/components/Chat/UserList.js"],"sourcesContent":["import './Chat.css';\n\nconst formatTime = (dateStr) => {\n  if (!dateStr) return '';\n  const date = new Date(dateStr);\n  const now  = new Date();\n  const diff = now - date;\n  if (diff < 60000)    return 'maintenant';\n  if (diff < 3600000)  return Math.floor(diff / 60000) + 'm';\n  if (diff < 86400000) return Math.floor(diff / 3600000) + 'h';\n  return date.toLocaleDateString('fr-FR', { day: '2-digit', month: '2-digit' });\n};\n\nconst getLastMessagePreview = (msg) => {\n  if (!msg) return '';\n  if (msg.type === 'voice') return 'ðŸŽ¤ Message vocal';\n  if (msg.type === 'image') return 'ðŸ–¼ï¸ Image';\n  if (msg.type === 'file')  return 'ðŸ“Ž ' + (msg.fileName || 'Fichier');\n  return msg.content || '';\n};\n\nconst UserList = ({\n  users = [],\n  onlineUsers = [],\n  selectedUser,\n  onSelectUser,\n  unreadCounts = {},\n  lastMessages = {},\n}) => {\n  return (\n    <div className=\"user-list\">\n      <h3 className=\"user-list-title\">Messages</h3>\n      {users.length === 0 && <p className=\"no-users\">Aucun utilisateur</p>}\n      {users.map((u) => {\n        const isOnline   = onlineUsers.includes(u._id);\n        const isSelected = selectedUser && selectedUser._id === u._id;\n        const unread     = unreadCounts[u._id] || 0;\n        const lastMsg    = lastMessages[u._id];\n        const hasUnread  = unread > 0;\n\n        return (\n          <div\n            key={u._id}\n            className={\n              'user-item' +\n              (isSelected ? ' selected' : '') +\n              (hasUnread  ? ' has-unread' : '')\n            }\n            onClick={() => onSelectUser(u)}\n          >\n            <div className=\"user-avatar gradient-bg\">\n              {u.username[0].toUpperCase()}\n              <span className={'status-dot ' + (isOnline ? 'online' : 'offline')} />\n            </div>\n\n            <div className=\"user-details\">\n              <div className=\"user-row-top\">\n                <span className={'user-name' + (hasUnread ? ' user-name-bold' : '')}>\n                  {u.username}\n                </span>\n                {lastMsg && (\n                  <span className={'last-msg-time' + (hasUnread ? ' time-unread' : '')}>\n                    {formatTime(lastMsg.createdAt)}\n                  </span>\n                )}\n              </div>\n              <div className=\"user-row-bottom\">\n                <span className={'last-message-preview' + (hasUnread ? ' preview-unread' : '')}>\n                  {getLastMessagePreview(lastMsg) || (isOnline ? 'En ligne' : 'Hors ligne')}\n                </span>\n                {hasUnread && (\n                  <span className=\"unread-badge\">\n                    {unread > 99 ? '99+' : unread}\n                  </span>\n                )}\n              </div>\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default UserList;"],"mappings":";AAAA,OAAO,YAAY;AAAC,SAAAA,MAAA,IAAAC,OAAA;AAEpB,MAAMC,UAAU,GAAIC,OAAO,IAAK;EAC9B,IAAI,CAACA,OAAO,EAAE,OAAO,EAAE;EACvB,MAAMC,IAAI,GAAG,IAAIC,IAAI,CAACF,OAAO,CAAC;EAC9B,MAAMG,GAAG,GAAI,IAAID,IAAI,CAAC,CAAC;EACvB,MAAME,IAAI,GAAGD,GAAG,GAAGF,IAAI;EACvB,IAAIG,IAAI,GAAG,KAAK,EAAK,OAAO,YAAY;EACxC,IAAIA,IAAI,GAAG,OAAO,EAAG,OAAOC,IAAI,CAACC,KAAK,CAACF,IAAI,GAAG,KAAK,CAAC,GAAG,GAAG;EAC1D,IAAIA,IAAI,GAAG,QAAQ,EAAE,OAAOC,IAAI,CAACC,KAAK,CAACF,IAAI,GAAG,OAAO,CAAC,GAAG,GAAG;EAC5D,OAAOH,IAAI,CAACM,kBAAkB,CAAC,OAAO,EAAE;IAAEC,GAAG,EAAE,SAAS;IAAEC,KAAK,EAAE;EAAU,CAAC,CAAC;AAC/E,CAAC;AAED,MAAMC,qBAAqB,GAAIC,GAAG,IAAK;EACrC,IAAI,CAACA,GAAG,EAAE,OAAO,EAAE;EACnB,IAAIA,GAAG,CAACC,IAAI,KAAK,OAAO,EAAE,OAAO,kBAAkB;EACnD,IAAID,GAAG,CAACC,IAAI,KAAK,OAAO,EAAE,OAAO,WAAW;EAC5C,IAAID,GAAG,CAACC,IAAI,KAAK,MAAM,EAAG,OAAO,KAAK,IAAID,GAAG,CAACE,QAAQ,IAAI,SAAS,CAAC;EACpE,OAAOF,GAAG,CAACG,OAAO,IAAI,EAAE;AAC1B,CAAC;AAED,MAAMC,QAAQ,GAAGA,CAAC;EAChBC,KAAK,GAAG,EAAE;EACVC,WAAW,GAAG,EAAE;EAChBC,YAAY;EACZC,YAAY;EACZC,YAAY,GAAG,CAAC,CAAC;EACjBC,YAAY,GAAG,CAAC;AAClB,CAAC,KAAK;EACJ,oBACEvB,OAAA;IAAKwB,SAAS,EAAC,WAAW;IAAAC,QAAA,gBACxBzB,OAAA;MAAIwB,SAAS,EAAC,iBAAiB;MAAAC,QAAA,EAAC;IAAQ;MAAAV,QAAA,EAAAW,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EAC5CV,KAAK,CAACW,MAAM,KAAK,CAAC,iBAAI7B,OAAA;MAAGwB,SAAS,EAAC,UAAU;MAAAC,QAAA,EAAC;IAAiB;MAAAV,QAAA,EAAAW,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,EACnEV,KAAK,CAACY,GAAG,CAAEC,CAAC,IAAK;MAChB,MAAMC,QAAQ,GAAKb,WAAW,CAACc,QAAQ,CAACF,CAAC,CAACG,GAAG,CAAC;MAC9C,MAAMC,UAAU,GAAGf,YAAY,IAAIA,YAAY,CAACc,GAAG,KAAKH,CAAC,CAACG,GAAG;MAC7D,MAAME,MAAM,GAAOd,YAAY,CAACS,CAAC,CAACG,GAAG,CAAC,IAAI,CAAC;MAC3C,MAAMG,OAAO,GAAMd,YAAY,CAACQ,CAAC,CAACG,GAAG,CAAC;MACtC,MAAMI,SAAS,GAAIF,MAAM,GAAG,CAAC;MAE7B,oBACEpC,OAAA;QAEEwB,SAAS,EACP,WAAW,IACVW,UAAU,GAAG,WAAW,GAAG,EAAE,CAAC,IAC9BG,SAAS,GAAI,aAAa,GAAG,EAAE,CACjC;QACDC,OAAO,EAAEA,CAAA,KAAMlB,YAAY,CAACU,CAAC,CAAE;QAAAN,QAAA,gBAE/BzB,OAAA;UAAKwB,SAAS,EAAC,yBAAyB;UAAAC,QAAA,GACrCM,CAAC,CAACS,QAAQ,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,eAC5BzC,OAAA;YAAMwB,SAAS,EAAE,aAAa,IAAIQ,QAAQ,GAAG,QAAQ,GAAG,SAAS;UAAE;YAAAjB,QAAA,EAAAW,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAb,QAAA,EAAAW,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnE,CAAC,eAEN5B,OAAA;UAAKwB,SAAS,EAAC,cAAc;UAAAC,QAAA,gBAC3BzB,OAAA;YAAKwB,SAAS,EAAC,cAAc;YAAAC,QAAA,gBAC3BzB,OAAA;cAAMwB,SAAS,EAAE,WAAW,IAAIc,SAAS,GAAG,iBAAiB,GAAG,EAAE,CAAE;cAAAb,QAAA,EACjEM,CAAC,CAACS;YAAQ;cAAAzB,QAAA,EAAAW,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACP,CAAC,EACNS,OAAO,iBACNrC,OAAA;cAAMwB,SAAS,EAAE,eAAe,IAAIc,SAAS,GAAG,cAAc,GAAG,EAAE,CAAE;cAAAb,QAAA,EAClExB,UAAU,CAACoC,OAAO,CAACK,SAAS;YAAC;cAAA3B,QAAA,EAAAW,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC1B,CACP;UAAA;YAAAb,QAAA,EAAAW,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC,eACN5B,OAAA;YAAKwB,SAAS,EAAC,iBAAiB;YAAAC,QAAA,gBAC9BzB,OAAA;cAAMwB,SAAS,EAAE,sBAAsB,IAAIc,SAAS,GAAG,iBAAiB,GAAG,EAAE,CAAE;cAAAb,QAAA,EAC5Eb,qBAAqB,CAACyB,OAAO,CAAC,KAAKL,QAAQ,GAAG,UAAU,GAAG,YAAY;YAAC;cAAAjB,QAAA,EAAAW,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACrE,CAAC,EACNU,SAAS,iBACRtC,OAAA;cAAMwB,SAAS,EAAC,cAAc;cAAAC,QAAA,EAC3BW,MAAM,GAAG,EAAE,GAAG,KAAK,GAAGA;YAAM;cAAArB,QAAA,EAAAW,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACzB,CACP;UAAA;YAAAb,QAAA,EAAAW,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC;QAAA;UAAAb,QAAA,EAAAW,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA,GAlCDG,CAAC,CAACG,GAAG;QAAAnB,QAAA,EAAAW,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAmCP,CAAC;IAEV,CAAC,CAAC;EAAA;IAAAb,QAAA,EAAAW,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;AAEV,CAAC;AAACe,EAAA,GA7DI1B,QAAQ;AA+Dd,eAAeA,QAAQ;AAAC,IAAA0B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}