{"ast":null,"code":"var _jsxFileName = \"/home/voaybe/Documents/projet/real-time-chat-app/client/src/components/Chat/UserList.js\";\nimport './Chat.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst formatTime = dateStr => {\n  if (!dateStr) return '';\n  const date = new Date(dateStr);\n  const now = new Date();\n  const diff = now - date;\n  if (diff < 60000) return 'maintenant';\n  if (diff < 3600000) return `${Math.floor(diff / 60000)}m`;\n  if (diff < 86400000) return `${Math.floor(diff / 3600000)}h`;\n  return date.toLocaleDateString('fr-FR', {\n    day: '2-digit',\n    month: '2-digit'\n  });\n};\nconst getLastMessagePreview = msg => {\n  if (!msg) return '';\n  if (msg.type === 'voice') return 'ðŸŽ¤ Message vocal';\n  if (msg.type === 'image') return 'ðŸ–¼ï¸ Image';\n  if (msg.type === 'file') return `ðŸ“Ž ${msg.fileName || 'Fichier'}`;\n  return msg.content || '';\n};\nconst UserList = ({\n  users = [],\n  onlineUsers = [],\n  selectedUser,\n  onSelectUser,\n  unreadCounts = {},\n  lastMessages = {}\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"user-list\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"user-list-title\",\n      children: \"Messages\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }, this), users.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"no-users\",\n      children: \"Aucun utilisateur\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 30\n    }, this), users.map(u => {\n      const isOnline = onlineUsers.includes(u._id);\n      const isSelected = (selectedUser === null || selectedUser === void 0 ? void 0 : selectedUser._id) === u._id;\n      const unread = unreadCounts[u._id] || 0;\n      const lastMsg = lastMessages[u._id];\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `user-item ${isSelected ? 'selected' : ''}`,\n        onClick: () => onSelectUser(u),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-avatar gradient-bg\",\n          children: [u.username[0].toUpperCase(), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `status-dot ${isOnline ? 'online' : 'offline'}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-details\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"user-row-top\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"user-name\",\n              children: u.username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 17\n            }, this), lastMsg && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"last-msg-time\",\n              children: formatTime(lastMsg.createdAt)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"user-row-bottom\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"last-message-preview\",\n              children: getLastMessagePreview(lastMsg) || (isOnline ? 'En ligne' : 'Hors ligne')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 17\n            }, this), unread > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"unread-badge\",\n              children: unread > 99 ? '99+' : unread\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 13\n        }, this)]\n      }, u._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 11\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 5\n  }, this);\n};\n_c = UserList;\nexport default UserList;\nvar _c;\n$RefreshReg$(_c, \"UserList\");","map":{"version":3,"names":["jsxDEV","_jsxDEV","formatTime","dateStr","date","Date","now","diff","Math","floor","toLocaleDateString","day","month","getLastMessagePreview","msg","type","fileName","content","UserList","users","onlineUsers","selectedUser","onSelectUser","unreadCounts","lastMessages","className","children","_jsxFileName","lineNumber","columnNumber","length","map","u","isOnline","includes","_id","isSelected","unread","lastMsg","onClick","username","toUpperCase","createdAt","_c","$RefreshReg$"],"sources":["/home/voaybe/Documents/projet/real-time-chat-app/client/src/components/Chat/UserList.js"],"sourcesContent":["import './Chat.css';\n\nconst formatTime = (dateStr) => {\n  if (!dateStr) return '';\n  const date = new Date(dateStr);\n  const now  = new Date();\n  const diff = now - date;\n  if (diff < 60000)       return 'maintenant';\n  if (diff < 3600000)     return `${Math.floor(diff/60000)}m`;\n  if (diff < 86400000)    return `${Math.floor(diff/3600000)}h`;\n  return date.toLocaleDateString('fr-FR', { day: '2-digit', month: '2-digit' });\n};\n\nconst getLastMessagePreview = (msg) => {\n  if (!msg) return '';\n  if (msg.type === 'voice') return 'ðŸŽ¤ Message vocal';\n  if (msg.type === 'image') return 'ðŸ–¼ï¸ Image';\n  if (msg.type === 'file')  return `ðŸ“Ž ${msg.fileName || 'Fichier'}`;\n  return msg.content || '';\n};\n\nconst UserList = ({ users = [], onlineUsers = [], selectedUser, onSelectUser, unreadCounts = {}, lastMessages = {} }) => {\n  return (\n    <div className=\"user-list\">\n      <h3 className=\"user-list-title\">Messages</h3>\n      {users.length === 0 && <p className=\"no-users\">Aucun utilisateur</p>}\n      {users.map((u) => {\n        const isOnline   = onlineUsers.includes(u._id);\n        const isSelected = selectedUser?._id === u._id;\n        const unread     = unreadCounts[u._id] || 0;\n        const lastMsg    = lastMessages[u._id];\n\n        return (\n          <div\n            key={u._id}\n            className={`user-item ${isSelected ? 'selected' : ''}`}\n            onClick={() => onSelectUser(u)}\n          >\n            <div className=\"user-avatar gradient-bg\">\n              {u.username[0].toUpperCase()}\n              <span className={`status-dot ${isOnline ? 'online' : 'offline'}`} />\n            </div>\n\n            <div className=\"user-details\">\n              <div className=\"user-row-top\">\n                <span className=\"user-name\">{u.username}</span>\n                {lastMsg && (\n                  <span className=\"last-msg-time\">{formatTime(lastMsg.createdAt)}</span>\n                )}\n              </div>\n              <div className=\"user-row-bottom\">\n                <span className=\"last-message-preview\">\n                  {getLastMessagePreview(lastMsg) || (isOnline ? 'En ligne' : 'Hors ligne')}\n                </span>\n                {unread > 0 && (\n                  <span className=\"unread-badge\">{unread > 99 ? '99+' : unread}</span>\n                )}\n              </div>\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default UserList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}