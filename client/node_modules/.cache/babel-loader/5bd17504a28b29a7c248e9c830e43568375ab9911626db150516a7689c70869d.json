{"ast":null,"code":"var _jsxFileName = \"/home/voaybe/Documents/projet/real-time-chat-app/client/src/components/Chat/ChatLayout.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, useCallback } from 'react';\nimport { useSocket } from '../../context/SocketContext';\nimport { useAuth } from '../../context/AuthContext';\nimport { useWebRTC } from '../../hooks/useWebRTC';\nimport UserList from './UserList';\nimport ChatWindow from './ChatWindow';\nimport CallModal from '../Call/CallModal';\nimport IncomingCall from '../Call/IncomingCall';\nimport axios from 'axios';\nimport './Chat.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ChatLayout = () => {\n  _s();\n  var _user$username, _user$username$;\n  const {\n    user,\n    logout\n  } = useAuth();\n  const {\n    socket,\n    onlineUsers\n  } = useSocket();\n  const [users, setUsers] = useState([]);\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [incomingCall, setIncomingCall] = useState(null);\n  const [showSidebar, setShowSidebar] = useState(true); // ‚Üê mobile nav\n\n  const webrtc = useWebRTC(socket);\n\n  // Sur mobile : afficher la sidebar par d√©faut, cacher quand conv s√©lectionn√©e\n  const isMobile = () => window.innerWidth <= 768;\n  const handleSelectUser = u => {\n    setSelectedUser(u);\n    if (isMobile()) setShowSidebar(false); // ‚Üê cache sidebar sur mobile\n  };\n  const handleBack = () => {\n    setShowSidebar(true);\n    setSelectedUser(null);\n  };\n  useEffect(() => {\n    const fetchUsers = async () => {\n      const {\n        data\n      } = await axios.get('/api/auth/users');\n      setUsers(data.users);\n    };\n    fetchUsers();\n  }, []);\n  useEffect(() => {\n    if (!selectedUser) return;\n    const fetchMessages = async () => {\n      const {\n        data\n      } = await axios.get(`/api/messages/${selectedUser._id}`);\n      setMessages(data.messages);\n    };\n    fetchMessages();\n  }, [selectedUser]);\n  useEffect(() => {\n    if (!socket) return;\n    socket.on('message:receive', message => {\n      var _message$sender;\n      if (selectedUser && (((_message$sender = message.sender) === null || _message$sender === void 0 ? void 0 : _message$sender._id) === selectedUser._id || message.sender === selectedUser._id)) {\n        setMessages(prev => [...prev, message]);\n      }\n    });\n    socket.on('message:sent', message => {\n      setMessages(prev => [...prev, message]);\n    });\n    socket.on('call:incoming', ({\n      callerId,\n      callType,\n      offer\n    }) => {\n      const caller = users.find(u => u._id === callerId);\n      setIncomingCall({\n        callerId,\n        callType,\n        offer,\n        callerName: (caller === null || caller === void 0 ? void 0 : caller.username) || 'Inconnu'\n      });\n      webrtc.setCallerId(callerId);\n      webrtc.setCallType(callType);\n      webrtc.setCallStatus('receiving');\n    });\n    socket.on('call:answered', webrtc.handleCallAnswered);\n    socket.on('call:ice-candidate', webrtc.handleICECandidate);\n    socket.on('call:ended', () => webrtc.endCall());\n    socket.on('call:rejected', () => {\n      webrtc.endCall();\n      alert('Appel refus√©');\n    });\n    socket.on('call:unavailable', () => {\n      webrtc.endCall();\n      alert('Utilisateur non disponible ou hors ligne');\n    });\n    return () => {\n      socket.off('message:receive');\n      socket.off('message:sent');\n      socket.off('call:incoming');\n      socket.off('call:answered');\n      socket.off('call:ice-candidate');\n      socket.off('call:ended');\n      socket.off('call:rejected');\n      socket.off('call:unavailable');\n    };\n  }, [socket, selectedUser, users, webrtc]);\n  const handleAcceptCall = useCallback(() => {\n    if (incomingCall) {\n      webrtc.answerCall(incomingCall.callerId, incomingCall.offer, incomingCall.callType);\n      // Sur mobile : naviguer vers la conv de l'appelant\n      const caller = users.find(u => u._id === incomingCall.callerId);\n      if (caller) setSelectedUser(caller);\n      if (isMobile()) setShowSidebar(false);\n      setIncomingCall(null);\n    }\n  }, [incomingCall, webrtc, users]);\n  const handleRejectCall = useCallback(() => {\n    if (incomingCall) {\n      webrtc.rejectCall(incomingCall.callerId);\n      setIncomingCall(null);\n    }\n  }, [incomingCall, webrtc]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat-layout\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `sidebar ${showSidebar ? 'sidebar-visible' : 'sidebar-hidden'}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sidebar-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"avatar\",\n            children: user === null || user === void 0 ? void 0 : (_user$username = user.username) === null || _user$username === void 0 ? void 0 : (_user$username$ = _user$username[0]) === null || _user$username$ === void 0 ? void 0 : _user$username$.toUpperCase()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"username\",\n            children: user === null || user === void 0 ? void 0 : user.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: logout,\n          className: \"logout-btn\",\n          title: \"D\\xE9connexion\",\n          children: \"\\u23FB\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(UserList, {\n        users: users,\n        onlineUsers: onlineUsers,\n        selectedUser: selectedUser,\n        onSelectUser: handleSelectUser\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `main-content ${!showSidebar ? 'main-full' : ''}`,\n      children: selectedUser ? /*#__PURE__*/_jsxDEV(ChatWindow, {\n        selectedUser: selectedUser,\n        messages: messages,\n        onlineUsers: onlineUsers,\n        onStartCall: type => webrtc.startCall(selectedUser._id, type),\n        onBack: handleBack // ‚Üê bouton retour mobile\n        ,\n        showBackButton: !showSidebar // ‚Üê visible seulement sur mobile\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-chat\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"no-chat-icon\",\n          children: \"\\uD83D\\uDCAC\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"S\\xE9lectionnez une conversation\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Choisissez un utilisateur pour commencer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this), (webrtc.callStatus === 'calling' || webrtc.callStatus === 'in-call') && /*#__PURE__*/_jsxDEV(CallModal, {\n      callType: webrtc.callType,\n      callStatus: webrtc.callStatus,\n      localStream: webrtc.localStream,\n      remoteStream: webrtc.remoteStream,\n      targetUser: selectedUser,\n      onEndCall: () => webrtc.endCall(selectedUser === null || selectedUser === void 0 ? void 0 : selectedUser._id),\n      onToggleMic: webrtc.toggleMic,\n      onToggleCamera: webrtc.toggleCamera\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 9\n    }, this), incomingCall && /*#__PURE__*/_jsxDEV(IncomingCall, {\n      callerName: incomingCall.callerName,\n      callType: incomingCall.callType,\n      onAccept: handleAcceptCall,\n      onReject: handleRejectCall\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 120,\n    columnNumber: 5\n  }, this);\n};\n_s(ChatLayout, \"1oBWQyjvYDjAO2M7U5tke0+ObCE=\", false, function () {\n  return [useAuth, useSocket, useWebRTC];\n});\n_c = ChatLayout;\nexport default ChatLayout;\nvar _c;\n$RefreshReg$(_c, \"ChatLayout\");","map":{"version":3,"names":["useState","useEffect","useCallback","useSocket","useAuth","useWebRTC","UserList","ChatWindow","CallModal","IncomingCall","axios","jsxDEV","_jsxDEV","ChatLayout","_s","_user$username","_user$username$","user","logout","socket","onlineUsers","users","setUsers","selectedUser","setSelectedUser","messages","setMessages","incomingCall","setIncomingCall","showSidebar","setShowSidebar","webrtc","isMobile","window","innerWidth","handleSelectUser","u","handleBack","fetchUsers","data","get","fetchMessages","_id","on","message","_message$sender","sender","prev","callerId","callType","offer","caller","find","callerName","username","setCallerId","setCallType","setCallStatus","handleCallAnswered","handleICECandidate","endCall","alert","off","handleAcceptCall","answerCall","handleRejectCall","rejectCall","className","children","toUpperCase","fileName","_jsxFileName","lineNumber","columnNumber","onClick","title","onSelectUser","onStartCall","type","startCall","onBack","showBackButton","callStatus","localStream","remoteStream","targetUser","onEndCall","onToggleMic","toggleMic","onToggleCamera","toggleCamera","onAccept","onReject","_c","$RefreshReg$"],"sources":["/home/voaybe/Documents/projet/real-time-chat-app/client/src/components/Chat/ChatLayout.js"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react';\nimport { useSocket } from '../../context/SocketContext';\nimport { useAuth } from '../../context/AuthContext';\nimport { useWebRTC } from '../../hooks/useWebRTC';\nimport UserList from './UserList';\nimport ChatWindow from './ChatWindow';\nimport CallModal from '../Call/CallModal';\nimport IncomingCall from '../Call/IncomingCall';\nimport axios from 'axios';\nimport './Chat.css';\n\nconst ChatLayout = () => {\n  const { user, logout } = useAuth();\n  const { socket, onlineUsers } = useSocket();\n  const [users,        setUsers]        = useState([]);\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [messages,     setMessages]     = useState([]);\n  const [incomingCall, setIncomingCall] = useState(null);\n  const [showSidebar,  setShowSidebar]  = useState(true); // ‚Üê mobile nav\n\n  const webrtc = useWebRTC(socket);\n\n  // Sur mobile : afficher la sidebar par d√©faut, cacher quand conv s√©lectionn√©e\n  const isMobile = () => window.innerWidth <= 768;\n\n  const handleSelectUser = (u) => {\n    setSelectedUser(u);\n    if (isMobile()) setShowSidebar(false); // ‚Üê cache sidebar sur mobile\n  };\n\n  const handleBack = () => {\n    setShowSidebar(true);\n    setSelectedUser(null);\n  };\n\n  useEffect(() => {\n    const fetchUsers = async () => {\n      const { data } = await axios.get('/api/auth/users');\n      setUsers(data.users);\n    };\n    fetchUsers();\n  }, []);\n\n  useEffect(() => {\n    if (!selectedUser) return;\n    const fetchMessages = async () => {\n      const { data } = await axios.get(`/api/messages/${selectedUser._id}`);\n      setMessages(data.messages);\n    };\n    fetchMessages();\n  }, [selectedUser]);\n\n  useEffect(() => {\n    if (!socket) return;\n\n    socket.on('message:receive', (message) => {\n      if (\n        selectedUser &&\n        (message.sender?._id === selectedUser._id || message.sender === selectedUser._id)\n      ) {\n        setMessages((prev) => [...prev, message]);\n      }\n    });\n\n    socket.on('message:sent', (message) => {\n      setMessages((prev) => [...prev, message]);\n    });\n\n    socket.on('call:incoming', ({ callerId, callType, offer }) => {\n      const caller = users.find((u) => u._id === callerId);\n      setIncomingCall({\n        callerId, callType, offer,\n        callerName: caller?.username || 'Inconnu'\n      });\n      webrtc.setCallerId(callerId);\n      webrtc.setCallType(callType);\n      webrtc.setCallStatus('receiving');\n    });\n\n    socket.on('call:answered',      webrtc.handleCallAnswered);\n    socket.on('call:ice-candidate', webrtc.handleICECandidate);\n    socket.on('call:ended',   () => webrtc.endCall());\n    socket.on('call:rejected', () => { webrtc.endCall(); alert('Appel refus√©'); });\n    socket.on('call:unavailable', () => {\n      webrtc.endCall();\n      alert('Utilisateur non disponible ou hors ligne');\n    });\n\n    return () => {\n      socket.off('message:receive');\n      socket.off('message:sent');\n      socket.off('call:incoming');\n      socket.off('call:answered');\n      socket.off('call:ice-candidate');\n      socket.off('call:ended');\n      socket.off('call:rejected');\n      socket.off('call:unavailable');\n    };\n  }, [socket, selectedUser, users, webrtc]);\n\n  const handleAcceptCall = useCallback(() => {\n    if (incomingCall) {\n      webrtc.answerCall(incomingCall.callerId, incomingCall.offer, incomingCall.callType);\n      // Sur mobile : naviguer vers la conv de l'appelant\n      const caller = users.find((u) => u._id === incomingCall.callerId);\n      if (caller) setSelectedUser(caller);\n      if (isMobile()) setShowSidebar(false);\n      setIncomingCall(null);\n    }\n  }, [incomingCall, webrtc, users]);\n\n  const handleRejectCall = useCallback(() => {\n    if (incomingCall) {\n      webrtc.rejectCall(incomingCall.callerId);\n      setIncomingCall(null);\n    }\n  }, [incomingCall, webrtc]);\n\n  return (\n    <div className=\"chat-layout\">\n\n      {/* ‚îÄ‚îÄ SIDEBAR ‚îÄ‚îÄ */}\n      <div className={`sidebar ${showSidebar ? 'sidebar-visible' : 'sidebar-hidden'}`}>\n        <div className=\"sidebar-header\">\n          <div className=\"user-info\">\n            <div className=\"avatar\">{user?.username?.[0]?.toUpperCase()}</div>\n            <span className=\"username\">{user?.username}</span>\n          </div>\n          <button onClick={logout} className=\"logout-btn\" title=\"D√©connexion\">‚èª</button>\n        </div>\n\n        <UserList\n          users={users}\n          onlineUsers={onlineUsers}\n          selectedUser={selectedUser}\n          onSelectUser={handleSelectUser}\n        />\n      </div>\n\n      {/* ‚îÄ‚îÄ CHAT WINDOW ‚îÄ‚îÄ */}\n      <div className={`main-content ${!showSidebar ? 'main-full' : ''}`}>\n        {selectedUser ? (\n          <ChatWindow\n            selectedUser={selectedUser}\n            messages={messages}\n            onlineUsers={onlineUsers}\n            onStartCall={(type) => webrtc.startCall(selectedUser._id, type)}\n            onBack={handleBack}          // ‚Üê bouton retour mobile\n            showBackButton={!showSidebar} // ‚Üê visible seulement sur mobile\n          />\n        ) : (\n          <div className=\"no-chat\">\n            <div className=\"no-chat-icon\">üí¨</div>\n            <h2>S√©lectionnez une conversation</h2>\n            <p>Choisissez un utilisateur pour commencer</p>\n          </div>\n        )}\n      </div>\n\n      {/* ‚îÄ‚îÄ MODALS ‚îÄ‚îÄ */}\n      {(webrtc.callStatus === 'calling' || webrtc.callStatus === 'in-call') && (\n        <CallModal\n          callType={webrtc.callType}\n          callStatus={webrtc.callStatus}\n          localStream={webrtc.localStream}\n          remoteStream={webrtc.remoteStream}\n          targetUser={selectedUser}\n          onEndCall={() => webrtc.endCall(selectedUser?._id)}\n          onToggleMic={webrtc.toggleMic}\n          onToggleCamera={webrtc.toggleCamera}\n        />\n      )}\n\n      {incomingCall && (\n        <IncomingCall\n          callerName={incomingCall.callerName}\n          callType={incomingCall.callType}\n          onAccept={handleAcceptCall}\n          onReject={handleRejectCall}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default ChatLayout;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}